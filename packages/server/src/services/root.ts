import { FastifyInstance } from 'fastify'

import version from '@/version.js'

const welcome = `
==================================================
 Ocelloids Service Node API [v${version}]
==================================================
..................................................
..................................................
..................................................
.........................@@@@@@@@@@@..............
..................@@@@@@@@........@@@@@@@.........
.............@@@@@@...................@@@@@.......
..........@@@@@..........................@@@@.....
........@@@@..............................@@@@....
......@@@@..............@@@................@@@....
.....@@@.............@@@@@@@@..............@@@....
....@@@..............@@@@@@@@.............@@@.....
....@@@...............@@@@@..............@@@......
....@@@@...............................@@@........
.....@@@@...........................@@@@..........
.......@@@@@...................@@@@@@@............
..........@@@@@@@@......@@@@@@@@@.................
...............@@@@@@@@@@@........................
..................................................
..................................................
..................................................
`

export default async function Root(fastify: FastifyInstance) {
  fastify.get(
    '/',
    {
      schema: {
        hide: true,
        response: { 200: { type: 'string' } },
      },
    },
    async (_, reply) => {
      reply.send(welcome)
    },
  )
}
